<div class="max-w-lg mx-auto p-6 space-y-6 bg-gradient-to-br from-white to-gray-50 shadow-xl rounded-2xl border border-gray-100">
  <h1 class="text-2xl font-bold text-gray-800 text-center">📅 New Appointment</h1>

  <!-- Service -->
  <div class="space-y-2">
    <label class="block text-sm font-semibold text-gray-700">Service</label>
    <select
      [(ngModel)]="selectedService"
      (change)="slots = []; selectedSlot = ''"
      class="w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm"
    >
      <option [ngValue]="null">Select a service...</option>
      <option *ngFor="let service of services" [ngValue]="service">
        {{ service.name }} ({{ service.duration }} min)
      </option>
    </select>
  </div>

  <!-- Date -->
  <div class="space-y-2">
    <label class="block text-sm font-semibold text-gray-700">Date</label>
    <input
      type="date"
      [(ngModel)]="selectedDate"
      (change)="slots = []; selectedSlot = ''"
      class="w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm"
    />
    <button
      (click)="fetchSlots()"
      class="w-full mt-3 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl shadow-md transition duration-200"
    >
      🔍 Load Available Slots
    </button>
  </div>

  <!-- Slots -->
  <div *ngIf="slots.length > 0" class="space-y-2">
    <label class="block text-sm font-semibold text-gray-700">Available Slots</label>
    <div class="grid grid-cols-3 gap-3">
      <button
        *ngFor="let slot of slots"
        (click)="selectedSlot = slot"
        class="px-3 py-2 rounded-lg border text-sm font-medium transition duration-150 shadow-sm"
        [ngClass]="{
          'bg-blue-600 text-white border-blue-600 shadow-md': selectedSlot === slot,
          'bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100': selectedSlot !== slot
        }"
      >
        {{ slot }}
      </button>
    </div>
  </div>

  <!-- Client details -->
  <div *ngIf="selectedSlot" class="space-y-4">
    <h2 class="text-lg font-semibold text-gray-800 mt-4">👤 Client Information</h2>

    <input
      type="text"
      placeholder="Full name"
      [(ngModel)]="clientName"
      class="w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white shadow-sm"
    />
    <input
      type="email"
      placeholder="Email"
      [(ngModel)]="clientEmail"
      class="w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white shadow-sm"
    />

    <input
      type="tel"
      [(ngModel)]="clientPhone"
      mask="+000 00 000 0000"
      placeholder="+353 87 123 4567"
      class="w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white shadow-sm"
    />

    <button
      (click)="confirmAppointment()"
      class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-xl shadow-lg transition duration-200"
    >
      ✅ Confirm Appointment
    </button>
  </div>
</div>
